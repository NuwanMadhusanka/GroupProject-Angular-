<div class="panel-header panel-header-sm">
</div>

<div class="main-content">
  <div class="card">
    <div class="card-header">
      <h4 class="card-title">Time Table</h4>
    </div>
    <div class="card-body">

          <!-- Table Start -->
          <div class="table-responsive">
            <table class="table table-striped table-bordered">
              <thead class=" text-primary thead-dark">
                <th>Day</th>
                <th>Time</th>
                <th>Package</th>
                <th>Path</th>
                <th>NumStu</th>
                <th>Option</th>
              </thead>
              <tbody>
                
                <ng-container *ngFor="let data of instructorLessonList; let y= index;">
                    
                  <tr>
                        <td [attr.rowspan]="rowSpanLength[y]">{{data.day}}</td>
                        <td [attr.rowspan]="data.packageData[0].length">{{data.timeSlotData[0]}}</td>
                        <td>{{data.packageData[0][0]}}</td>
                        <td>{{data.pathData[0][0]}}</td>

                        <td *ngIf="data.numStuData[0][0] != 0">{{data.numStuData[0][0]}}</td>
                        <td *ngIf="data.numStuData[0][0] == 0">-</td>

                        <td *ngIf="data.numStuData[0][0] != 0">
                          <button (click)="assignStudent(data.idData[0][0],data.day,data.timeSlotData[0])" type="button" class="btn btn-info btn-sm"><i class="fas fa-users" title="Assign Students"></i></button>
                        </td>
                    </tr>

                    <ng-container *ngFor="let time of data.timeSlotData; let i= index;">
                       
                          <tr *ngIf="i!=0">
                                <td [attr.rowspan]="data.packageData[i].length">{{data.timeSlotData[i]}}</td>
                                <td>{{data.packageData[i][0]}}</td>
                                <td>{{data.pathData[i][0]}}</td>
                                <td>{{data.numStuData[i][0]}}</td>
                                <td>
                                  <button (click)="assignStudent(data.idData[i][0],data.day,data.timeSlotData[i])" type="button" class="btn btn-info btn-sm"><i class="fas fa-users" title="Assign Students"></i></button>
                                </td>
                          </tr>

                          <ng-container *ngFor="let data2 of data.packageData; let k = index;">
                              <ng-container *ngFor="let data3 of data2; let j=index;">
                                  <tr *ngIf="k==i && j!=0">
                                      <td>{{data.packageData[i][j]}}</td>
                                      <td>{{data.pathData[i][j]}}</td>
                                      <td>{{data.numStuData[i][j]}}</td>
                                      <td>
                                        <button (click)="assignStudent(data.idData[i][j],data.day,data.timeSlotData[i])" type="button" class="btn btn-info btn-sm"><i class="fas fa-users" title="Assign Students"></i></button>
                                      </td>
                                  </tr>
                              </ng-container>
                          </ng-container>
                    </ng-container>
                </ng-container>
              </tbody>
              </table>
           </div>
          <!-- Table Finish -->

    </div>
  </div>
</div>

